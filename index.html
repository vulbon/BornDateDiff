<!Doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <style>
        .datePicker {
            margin-top: 20px;
            width: 140px;
            border: 1px solid #000000;
            border-radius: 3px;
            -moz-border-radius: 3px;
            -webkit-border-radius: 3px;
        }
        
        .button {
            border: 1px solid #000000;
            border-radius: 3px;
            -moz-border-radius: 3px;
            -webkit-border-radius: 3px;
        }
    </style>
</head>

<body>
    <h1 id="tag"></h1>
    <br>
    <input type="date" id="input_datePearBirth" class="datePicker" /> <button class="button" id="btn_restoreToPearBirth">restore to pear's birthday</button>
    <br>
    <input type="date" id="input_dateNow" class="datePicker" /> <button class="button" id="btn_restoreToNow">restore to date now</button>
</body>
<script src="moment.min.js"></script>
<script>
    let tag = document.getElementById("tag");
    let input_datePearBirth = document.getElementById("input_datePearBirth");
    let input_dateNow = document.getElementById("input_dateNow");
    let btn_restoreToPearBirth = document.getElementById("btn_restoreToPearBirth");
    let btn_restoreToNow = document.getElementById("btn_restoreToNow");

    const pearBornDateString = "2016-03-17";

    const nowDate = moment();
    const pearBornDate = moment(pearBornDateString);

    input_datePearBirth.value = pearBornDate.format("YYYY-MM-DD");
    input_dateNow.value = nowDate.format("YYYY-MM-DD");

    let diffDayNum, diffMonthNum, diffYearNum;

    input_datePearBirth.onchange = calculate;
    input_dateNow.onchange = calculate;

    calculate();

    btn_restoreToPearBirth.onclick = function() {
        input_datePearBirth.value = pearBornDate.format("YYYY-MM-DD");
        calculate();
    }

    btn_restoreToNow.onclick = function() {
        input_dateNow.value = nowDate.format("YYYY-MM-DD");
        calculate();
    }

    function calculate() {
        tmp_nowDate = moment(input_dateNow.value);
        tmp_pastDate = moment(input_datePearBirth.value);

        if (parseInt(tmp_nowDate.format("D")) >= parseInt(tmp_pastDate.format("D"))) {
            diffDayNum = parseInt(tmp_nowDate.format("D")) - parseInt(tmp_pastDate.format("D"));
        } else {
            diffDayNum = parseInt(tmp_nowDate.format("D")) - parseInt(tmp_pastDate.format("D")) + tmp_nowDate.add(-1,
                "month").daysInMonth();
        }
        if (tmp_nowDate.month() >= tmp_pastDate.month()) {
            diffMonthNum = tmp_nowDate.month() - tmp_pastDate.month();
        } else {
            diffMonthNum = tmp_nowDate.month() - tmp_pastDate.month() + 12;
        }
        if (tmp_nowDate.dayOfYear() >= tmp_pastDate.dayOfYear()) {
            diffYearNum = tmp_nowDate.year() - tmp_pastDate.year();
        } else {
            diffYearNum = tmp_nowDate.year() - tmp_pastDate.year() - 1;
        }
        tag.innerText = "#" + String(diffYearNum) + "y" + String(diffMonthNum) + "m" + String(diffDayNum) + "d";
    }
</script>

</html>